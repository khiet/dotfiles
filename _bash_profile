# home
set -o vi
# "ls" color
export CLICOLOR=1
export LSCOLORS=gxBxhxDxfxhxhxhxhxcxcx
export LESS=-RFX

source ~/.private

alias tmux="TERM=screen-256color-bce tmux"
alias grep="grep --color"
alias ctags="ctags -R --exclude=.git --exclude=log ."
alias gg="git grep"
alias be="bundle exec"
alias cop="rubocop"
alias jasmine="bundle exec rake jasmine"
alias gdel="git branch --merged | grep -v '\*' | xargs -n 1 git branch -d"
alias ff="ff -r ." # fuzzy-find - https://github.com/silentbicycle/ff

alias dl="youtube-dl -o '/Users/khietle/youtube/%(title)s-%(id)s.%(ext)s'"

# housetrip
eval "$($HOME/.ht/bin/ht init -)"
# rbenv
eval "$(rbenv init -)"
# bundler
export BUNDLER_EDITOR=vim

# share bash history between sessions
export HISTCONTROL=ignoredups:erasedups # no duplicate entries
export HISTSIZE=10000
export HISTFILESIZE=2000
shopt -s histappend # append to history
# save and reload the history after each command finishes
export PROMPT_COMMAND="history -a; history -c; history -r; $PROMPT_COMMAND"

export PATH="/usr/local/bin:/usr/local/sbin:$PATH"

# https://github.com/jimeh/git-aware-prompt
export GITAWAREPROMPT=~/.bash/git-aware-prompt
source $GITAWAREPROMPT/main.sh
export PS1="\[$bldylw\]\\w \[$txtgrn\]\$git_branch\[$txtred\]\$git_dirty\[$txtrst\]\$ "

# git submodules
# git submodule add https://github.com/tpope/vim-fugitive.git bundle/fugitive
# git init
# git update
# git submodule foreach git pull

deploy () {
  bundle install && ht staging-deploy "$1" --channel "$2" --staging "$2"
}

renv-staging () {
  renv "$1" -a staging -b ht-renv-staging -n "$2" # set 'key=value'
}

renv-production () {
  renv set "$1" -a production -b ht-renv-production
}

doc () {
  if [ "$1" == 'cmd' ]
  then
    open 'https://docs.google.com/document/d/1QdxE7FMpMtci5gyzzBk7MvB0rCU8aWQ0U8UisyaYzac/edit'
  elif [ "$1" == 'rails' ]
  then
    open 'https://docs.google.com/document/d/1LLfmoRb_I65E2xh942-EJwXYkbd7a5CfJ-ho_j6TfL0/edit'
  else
    open 'https://docs.google.com/document/d/1LLfmoRb_I65E2xh942-EJwXYkbd7a5CfJ-ho_j6TfL0/edit'
  fi
}

# added by the heroku toolbelt
export PATH="/usr/local/heroku/bin:$PATH"

#git remote add staging git@heroku.com:ticket-management-staging.git
#git remote add production git@heroku.com:ticket-management-production.git
